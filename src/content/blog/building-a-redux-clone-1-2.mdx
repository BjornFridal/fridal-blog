- [ ] ---
title: 'Building a Redux Clone (1/2)'
teaser: '...'
pubDate: 2023-10-06
description: '...'
author: 'Bjørn Fridal'
image: null
imageAlt: '...'
tags: ['react', 'redux']
---

import { Code } from 'astro:components';

#### To get a better understanding of how Redux works we are going to build a simplified Redux clone from scratch and use it a small React project. To visualize how Redux works, I've made an interactive flow chart to go along with the React project. Have fun!

### Isn't Redux… like old?
But wait, I hear you say. It”s 2023 and we have a lot of new options for state management in React that were not around when Redux first made its appearance on the scene. React Context, Zustand, Jotai and XState just to name a few. Does it even make sense then to spend time learning about Redux then?

Well, if all you”re doing is passing around state, then React Context will probably suffice, however, as we will see in this blog post, the real strength of Redux comes when we leverage it”s middleware feature. Middleware is something React Context doesn”t support out-of-the-box. Besides, there are thousands of React apps in the wild that are built using with Redux, so chances are that you will eventually have to work on Redux. So yes, Redux maybe old, but it”s definitely still worth spending time to understand it.

### What we will be building
We build two versions of our Redux clone. In this blog post we will build version 1.0 which will learn us the fundamentals of Redux. In the [next blog post](#) we will build version 1.1 which will support middelware.

#### Requirements
I assume that you already know React and Context. If not I am afraid it will be an uphill journey from here on.

## What is the purpose of Redux?
In short Redux is a state management library. It is most often used in React applications, but it is actually framework agnostic. Once we integrate Redux with React we have an easily and predictable way to access and update state from anywhere in our application. And with Redux middleware we will be able to handle operations related to our state such as fetching data from an API and placing it into Redux, logging Redux state etc.

## How does Redux work?
In Redux we always have a single `store` and that store contains our state. The store allows us to `subscribe` to changes made to the state and it allows us to update the state by sending an `action` to the store using the `dispatch` method. An action, which is just a plain object, will first go through any `middleware` the store has and then through the store's `reducer` where it will update existing state and return new state to any subscribers. An action can always dispatch new actions along the way 

Ok, that's all well and good, now let's try to make it a bit more tangible. Here's step-by-step how our React application will use the Redux Clone.

1) A user is presented with our UI. The UI contains a "Fetch Pokemon" button and a status text that says "No Pokemon".
2) The user click's the "Fetch Pokemon" button.
3) We `dispatch` an `action` of type "fetch".
4) The `store`receives our `action` and runs it through the `middleware`.
5) The `thunk-middleware` sees that the action has a `fetch` method and invokes it.
6)  The `fetch` method makes an async call to an API. Since the API may be slow to respond we `dispatch` an `action` of type `fetching`.
7)  The new fetching `action` is also run through the store's middleware, but it has no method that can be invoked by the `thunk-middleware`, so nothing happens.
8)  The `action` then runs through the 





<div class="xl:h-[760px] xl:relative"><div class="border border-purple-100 rounded-lg overflow-hidden xl:absolute xl:h-[760px] xl:w-[630px] px-4 xl:px-8 xl:left-[50%] xl:-translate-x-1/2 "><iframe class="aspect-[141/190] w-full" src="https://rive.app/community/6398-12442-redux-flow/embed" allowfullscreen></iframe></div></div>