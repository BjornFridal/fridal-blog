---
import Layout from '../layouts/Layout.astro';
import Container from '../components/Containers/Container.astro';
import BlogPostCard from '../components/BlogPostCard/Card.astro';

const posts = await Astro.glob('../pages/blog/*.md');

// Sort posts by date
posts.sort((a, b) => {
  const dateA = new Date(a.frontmatter.pubDate);
  const dateB = new Date(b.frontmatter.pubDate);
  return dateB.getTime() - dateA.getTime();
});
---

<Layout
  title="BjÃ¸rn Fridal - Frontend developer in Copenhagen"
  description="My thoughts primarily on frontend development."
>
  <Container class="mt-16 sm:mt-32s">
    <header class="flex gap-x-10 rounded-xl bg-gray-50 text-sm p-5">
      <img
        src="/bface.jpg"
        alt="BjÃ¸rn Fridal"
        class="h-32 w-32 -my-8 -ml-8 rounded-full"
      />
      <div>
        <p>
          Frontend development is my bread'n'butter. Full time consultant, open
          to new opportunities. React, Next.js, TypeScript etc.<br />Feel free
          to connect and say hi ğŸ¦„ ğŸ˜€ ğŸ‘‹
        </p><em>BjÃ¸rn Fridal</em>
      </div>
    </header>

    <div class="mt-16 sm:mt-20">
      <div class="flex max-w-3xl flex-col space-y-10">
        {
          posts.map((post) => (
            <BlogPostCard
              url={post.url}
              title={post.frontmatter.title}
              date={post.frontmatter.pubDate}
              teaser={post.frontmatter.teaser}
            />
          ))
        }
      </div>
    </div>
  </Container>
</Layout>
