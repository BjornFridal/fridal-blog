---
import Layout from '../layouts/Layout.astro';
import Container from '../components/Containers/Container.astro';
import BlogPostCard from '../components/BlogPostCard/Card.astro';

const posts = await Astro.glob('../pages/blog/*.md');

// Sort posts by date
posts.sort((a, b) => {
  const dateA = new Date(a.frontmatter.pubDate);
  const dateB = new Date(b.frontmatter.pubDate);
  return dateB.getTime() - dateA.getTime();
});
---

<Layout
  title="BjÃ¸rn Fridal - Frontend developer in Copenhagen"
  description="My thoughts primarily on frontend development."
>
  <Container class="mt-10">
    <header class="flex items-center gap-x-10 rounded-xl bg-gray-50 p-4">
      <div class="relative h-28 w-28 flex-none">
        <img
          src="/bface.jpg"
          alt="BjÃ¸rn Fridal"
          class="rounded-full w-full h-full relative z-10"
        />
        <div
          class="absolute -inset-1 rounded-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 z-0 animate-spin-slow"
        >
        </div>
      </div>
      <div>
        <h1 class="font-semibold mb-2">BjÃ¸rn Fridal @ Copenhagen</h1>
        <p class="font-semibold text-sm mb-2">
          Full time consultant, open to new opportunities. Frontend development
          is my jam. React, Redux, Next.js, TypeScript, Vitest etc.
        </p>
        <p class="font-semibold text-sm">Connect and say hi ğŸ¦„ ğŸ˜€ ğŸ‘‹</p>
      </div>
    </header>

    <div class="mt-16 sm:mt-24">
      <div class="flex max-w-3xl flex-col">
        {
          posts.map((post) => (
            <BlogPostCard
              url={post.url}
              title={post.frontmatter.title}
              date={post.frontmatter.pubDate}
              teaser={post.frontmatter.teaser}
            />
          ))
        }
      </div>
    </div>
  </Container>
</Layout>
